<!DOCTYPE html>
<html>

<head>
    <title>InteriAR Login</title>
    <link rel="stylesheet" href="css/register1.css">

    <script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-database.js"></script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

</head>

<body>
    <div class="simple">
        <form id="reg">
            <h1>Add Users To The portal</h1>


            <input type="text" name="name" id="name" placeholder="Enter Name"><br>
            <br>
            <input type="text" name="user_name" id="user_name" placeholder="Enter User Name"><br><br>

            <input type="number" name="mobile" id="phone_number" placeholder="Enter Mobile Number"><br>
            <br>
            <input type="email" name="email" id="email" placeholder="Enter Email"><br>
            <br>
            <input type="password" name="pass" id="pass" placeholder="Enter Password"><br>
            <br>
            <input type="password" name="cpass" id="cpass" placeholder="Confirm Password"><br>
            <br>
            <button id="submit"> Register</button>
        </form>
    </div>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.7/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.7/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyBQrIlqb_xlGGG8zgvjl5CFu5qgCK87r9c",
            authDomain: "interiar-e600c.firebaseapp.com",
            databaseURL: "https://interiar-e600c-default-rtdb.firebaseio.com",
            projectId: "interiar-e600c",
            storageBucket: "interiar-e600c.appspot.com",
            messagingSenderId: "748315535951",
            appId: "1:748315535951:web:c20f008f357fac8c15983a",
            measurementId: "G-D2BJP780M7"
        };


        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);

        import { getDatabase, ref, set, child, update, remove }
            from "https://www.gstatic.com/firebasejs/9.6.7/firebase-database.js";

        // Variables
        const name = document.getElementById('name');
        const user_name = document.getElementById('user_name');
        const p_no = document.getElementById('phone_number');
        const uemail = document.getElementById('email');
        const upass = document.getElementById('pass');
        const btn = document.getElementById('submit');

        const database = getDatabase();

        function insertdata() {
            set(ref(database, "user/" + user_name.value),
                {
                    Name: name.value,
                    UserName: user_name.value,
                    Email: uemail.value,
                    Phone_number: p_no.value,
                    password: upass.value
                })
                .then(() => {
                    alert("Admin User Added Successfully");
                    window.location = "../../lms/homepage.html";

                })
                .catch((error) => {
                    alert("Registration Failed :" + error)
                });
        }

        btn.addEventListener('click', insertdata);



        window.onload = function () {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
            });
        }
    </script>
</body>

</html>